# Apache Kafka KRaft - dev/minikube configuration

# -----------------------
# Image
# -----------------------
image:
  repository: apache/kafka
  tag: "latest"
  pullPolicy: IfNotPresent

# -----------------------
# Replica count
# -----------------------
replicaCount: 1

# -----------------------
# Namespace
# -----------------------
namespace:
  name: kafka

# -----------------------
# KRaft configuration
# -----------------------
kraft:
  nodeId: 0
  processRoles: "broker,controller"
  controllerQuorumVoters: "0@kafka-0.kafka.kafka.svc.cluster.local:9093"

# -----------------------
# Networking
# -----------------------
listeners:
  client: "PLAINTEXT://0.0.0.0:9092"
  controller: "CONTROLLER://0.0.0.0:9093"
  advertisedListeners: "PLAINTEXT://kafka.kafka.svc.cluster.local:9092"

# -----------------------
# Topic configuration
# -----------------------
topics:
  - name: user-events
    partitions: 1
    replicationFactor: 1
  - name: tenant-events
    partitions: 1
    replicationFactor: 1
  - name: service-catalog-events
    partitions: 1
    replicationFactor: 1
  - name: booking-events
    partitions: 1
    replicationFactor: 1

# -----------------------
# Persistence
# -----------------------
persistence:
  enabled: true
  size: 5Gi
  storageClass: ""  # Uses default storage class

# -----------------------
# Resources
# -----------------------
resources:
  requests:
    cpu: 250m
    memory: 512Mi
  limits:
    cpu: 500m
    memory: 1Gi

# -----------------------
# Service
# -----------------------
service:
  type: ClusterIP
  clusterIP: None  # Headless service
