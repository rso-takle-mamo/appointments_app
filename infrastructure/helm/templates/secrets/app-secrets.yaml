{{/*
Application secrets for JWT, API keys, and other sensitive configuration
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "appointments-app.fullname" . }}-secrets
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "appointments-app.labels" . | nindent 4 }}
type: Opaque
data:
  # JWT Secret Key (base64 encoded)
  # Default: 3db7680a09d57e354d9513e60a6fbe793768cfeed510e8a92feec809a3e3215c
  jwt-secret-key: {{ .Values.secrets.jwtSecretKey | default "M2RiNzY4MGEwOWQ1N2UzNTRkOTUxM2U2MGE2ZmJlNzkzNzY4Y2ZlZWQ1MTBlOGE5MmZlZWM4MDlhM2UzMjE1Yw==" | quote }}

  # Vatcheck API Key (base64 encoded)
  # Default: vat_live_0Jx7jKQgN04C2O9dbZe58LyhXTEtJJ6xL9pqwjGP
  vatcheck-api-key: {{ .Values.secrets.vatcheckApiKey | default "dmF0X2xpdmUwSng3aktRZ04wNEMyTzlkYlllNThMeWhYVEV0SkpqeEw5cHF3akdQ" | quote }}

  # gRPC URL for Availability Service
  availability-service-grpc-url: {{ printf "http://%s-availability:5001" (include "appointments-app.fullname" .) | b64enc | quote }}